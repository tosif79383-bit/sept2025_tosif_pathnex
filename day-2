
# Day 02 â€” Services & Tags

## ðŸ”¹ Ansible â€” Install & Enable Nginx

---
- name: Install and start Nginx on Tosif
  hosts: all
  become: yes

  tasks:
    - name: Install nginx
      yum:
        name: nginx
        state: present

    - name: Enable nginx
      service:
        name: nginx
        state: started
        enabled: yes


## ðŸ”¹ Terraform â€” EC2 with Tags (r5.2xlarge)

provider "aws" {
  region = "us-east-1"
}

resource "aws_instance" "TosifEC2" {
  ami           = "ami-0abcd1234abcd1234"
  instance_type = "r5.2xlarge"

  tags = {
    Name        = "Tosif-Server"
    Environment = "Training"
    Owner       = "TosifStudent"
  }
}


## ðŸ”¹ Kubernetes â€” Deployment with 2 Replicas

apiVersion: apps/v1
kind: Deployment
metadata:
  name: Tosif-deployment
spec:
  replicas: 2
  selector:
    matchLabels:
      app: Tosif-app
  template:
    metadata:
      labels:
        app: Tosif-app
    spec:
      containers:
        - name: app
          image: nginx
          ports:
            - containerPort: 80


## ðŸ”¹ Shell Script â€” Disk Usage

#!/bin/bash
df -h


# Maven Build
## ðŸ”¹ Jenkins Pipeline â€” Maven Build
You will learn how to **compile, test, and package a Java project** using Maven.

pipeline {
    agent any
    tools {
        maven 'Maven-3.8.1'
        jdk 'JDK-17'
    }
    stages {
        stage('Checkout') {
            steps {
                git url: 'https://github.com/Tosif/sample-java-app.git'
            }
        }
        stage('Compile') {
            steps {
                sh 'mvn clean compile'
            }
        }
        stage('Test') {
            steps {
                sh 'mvn test'
            }
        }
        stage('Package') {
            steps {
                sh 'mvn package'
            }
        }
    }
}

## ðŸ”¹ GitLab CI â€” Maven Build

stages:
  - build
  - test
  - package

maven-build:
  stage: build
  image: maven:3.8.1-jdk-17
  script:
    - git clone https://github.com/Tosif/sample-java-app.git
    - cd sample-java-app
    - mvn clean compile

maven-test:
  stage: test
  image: maven:3.8.1-jdk-17
  script:
    - cd sample-java-app
    - mvn test

maven-package:
  stage: package
  image: maven:3.8.1-jdk-17
  script:
    - cd sample-java-app
    - mvn package
